// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of RuuviTag Discovered availability message is given 1`] = `
Array [
  Object {
    "payload": "{\\"name\\":\\"fridge Absolute Humidity\\",\\"unit_of_measurement\\":\\"g/m^3\\",\\"object_id\\":\\"fridge_absolute_humidity\\",\\"unique_id\\":\\"fridge_absolute_humidity\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.absoluteHumidity }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_absolute_humidity/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Temperature\\",\\"device_class\\":\\"temperature\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"fridge_temperature\\",\\"unique_id\\":\\"fridge_temperature\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.temperature }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_temperature/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Battery Voltage\\",\\"unit_of_measurement\\":\\"mV\\",\\"object_id\\":\\"fridge_battery_voltage\\",\\"unique_id\\":\\"fridge_battery_voltage\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:battery\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.batteryVoltage }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_battery_voltage/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Humidity\\",\\"device_class\\":\\"humidity\\",\\"unit_of_measurement\\":\\"%\\",\\"object_id\\":\\"fridge_humidity\\",\\"unique_id\\":\\"fridge_humidity\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:gauge\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.relativeHumidityPercentage | float(2) }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidity/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Dew Point\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"fridge_dew_point\\",\\"unique_id\\":\\"fridge_dew_point\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.dewPoint }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_dew_point/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Pressure\\",\\"device_class\\":\\"pressure\\",\\"unit_of_measurement\\":\\"hPa\\",\\"object_id\\":\\"fridge_pressure\\",\\"unique_id\\":\\"fridge_pressure\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.pressure }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_pressure/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge TX Power\\",\\"unit_of_measurement\\":\\"dBm\\",\\"object_id\\":\\"fridge_txPower\\",\\"unique_id\\":\\"fridge_txPower\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:signal\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.txPower }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_txPower/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Acceleration X\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"fridge_acceleration_x\\",\\"unique_id\\":\\"fridge_acceleration_x\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationX }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_x/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Acceleration Y\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"fridge_acceleration_y\\",\\"unique_id\\":\\"fridge_acceleration_y\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationY }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_y/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Acceleration Z\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"fridge_acceleration_z\\",\\"unique_id\\":\\"fridge_acceleration_z\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationZ }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_z/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Humidex\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"fridge_humidex\\",\\"unique_id\\":\\"fridge_humidex\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.humidex }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidex/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Heat Index\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"fridge_heat_index\\",\\"unique_id\\":\\"fridge_heat_index\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.heatIndex }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_heat_index/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Mac Address\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"fridge_mac_address\\",\\"unique_id\\":\\"fridge_mac_address\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.macAddress }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_mac_address/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Measurement Sequence\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"fridge_measurement_sequence\\",\\"unique_id\\":\\"fridge_measurement_sequence\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.measurementSequence }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_measurement_sequence/config",
  },
  Object {
    "payload": "{\\"name\\":\\"fridge Movement Counter\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"fridge_movement_counter\\",\\"unique_id\\":\\"fridge_movement_counter\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.movementCounter }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_movement_counter/config",
  },
  Object {
    "payload": "{\\"state\\":\\"online\\"}",
    "retain": true,
    "topic": "a_base_topic/ruuvitag/aa:bb/availability",
  },
]
`;

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of RuuviTag Offline availability message is given 1`] = `
Array [
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_absolute_humidity/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_temperature/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_battery_voltage/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidity/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_dew_point/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_pressure/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_txPower/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_x/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_y/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_z/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidex/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_heat_index/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_mac_address/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_measurement_sequence/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_movement_counter/config",
  },
  Object {
    "payload": "{\\"state\\":\\"offline\\"}",
    "retain": true,
    "topic": "a_base_topic/ruuvitag/aa:bb/availability",
  },
]
`;
