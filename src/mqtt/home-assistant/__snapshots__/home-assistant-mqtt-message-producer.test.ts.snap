// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of MiFlora Discovered availability message is given 1`] = `
Array [
  Object {
    "payload": "{\\"name\\":\\"Super Plant Temperature\\",\\"device_class\\":\\"temperature\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"super_plant_temperature\\",\\"unique_id\\":\\"super_plant_temperature\\",\\"availability_topic\\":\\"a_base_topic/miflora/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":30,\\"device\\":{\\"manufacturer\\":\\"Xiaomi Inc.\\",\\"model\\":\\"MiFlora Plant Sensor HHCCJCV01\\",\\"name\\":\\"miflora Super Plant\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.temperature }}\\",\\"state_topic\\":\\"a_base_topic/miflora/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/super_plant_temperature/config",
  },
  Object {
    "payload": "{\\"name\\":\\"Super Plant Illuminance\\",\\"device_class\\":\\"illuminance\\",\\"unit_of_measurement\\":\\"lx\\",\\"object_id\\":\\"super_plant_illuminance\\",\\"unique_id\\":\\"super_plant_illuminance\\",\\"availability_topic\\":\\"a_base_topic/miflora/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":30,\\"device\\":{\\"manufacturer\\":\\"Xiaomi Inc.\\",\\"model\\":\\"MiFlora Plant Sensor HHCCJCV01\\",\\"name\\":\\"miflora Super Plant\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.illuminance }}\\",\\"state_topic\\":\\"a_base_topic/miflora/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/super_plant_illuminance/config",
  },
  Object {
    "payload": "{\\"name\\":\\"Super Plant Soil Moisture\\",\\"unit_of_measurement\\":\\"%\\",\\"object_id\\":\\"super_plant_soil_moisture\\",\\"unique_id\\":\\"super_plant_soil_moisture\\",\\"availability_topic\\":\\"a_base_topic/miflora/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":30,\\"icon\\":\\"mdi:water-percent\\",\\"device\\":{\\"manufacturer\\":\\"Xiaomi Inc.\\",\\"model\\":\\"MiFlora Plant Sensor HHCCJCV01\\",\\"name\\":\\"miflora Super Plant\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.moisture }}\\",\\"state_topic\\":\\"a_base_topic/miflora/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/super_plant_soil_moisture/config",
  },
  Object {
    "payload": "{\\"name\\":\\"Super Plant Soil Conductivity\\",\\"unit_of_measurement\\":\\"µS/cm\\",\\"object_id\\":\\"super_plant_soil_conductivity\\",\\"unique_id\\":\\"super_plant_soil_conductivity\\",\\"availability_topic\\":\\"a_base_topic/miflora/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":30,\\"icon\\":\\"mdi:flower\\",\\"device\\":{\\"manufacturer\\":\\"Xiaomi Inc.\\",\\"model\\":\\"MiFlora Plant Sensor HHCCJCV01\\",\\"name\\":\\"miflora Super Plant\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.soilConductivity }}\\",\\"state_topic\\":\\"a_base_topic/miflora/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/super_plant_soil_conductivity/config",
  },
  Object {
    "payload": "{\\"state\\":\\"online\\"}",
    "retain": true,
    "topic": "a_base_topic/miflora/aa:bb/availability",
  },
]
`;

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of MiFlora Offline availability message is given 1`] = `
Array [
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/plant_temperature/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/plant_illuminance/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/plant_soil_moisture/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/plant_soil_conductivity/config",
  },
  Object {
    "payload": "{\\"state\\":\\"offline\\"}",
    "retain": true,
    "topic": "a_base_topic/miflora/aa:bb/availability",
  },
]
`;

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of RuuviTag Discovered availability message is given 1`] = `
Array [
  Object {
    "payload": "{\\"name\\":\\"My Fridge Absolute Humidity\\",\\"unit_of_measurement\\":\\"g/m^3\\",\\"object_id\\":\\"my_fridge_absolute_humidity\\",\\"unique_id\\":\\"my_fridge_absolute_humidity\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.absoluteHumidity }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_absolute_humidity/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Temperature\\",\\"device_class\\":\\"temperature\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"my_fridge_temperature\\",\\"unique_id\\":\\"my_fridge_temperature\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.temperature }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_temperature/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Battery Voltage\\",\\"unit_of_measurement\\":\\"mV\\",\\"object_id\\":\\"my_fridge_battery_voltage\\",\\"unique_id\\":\\"my_fridge_battery_voltage\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:battery\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.batteryVoltage }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_battery_voltage/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Humidity\\",\\"device_class\\":\\"humidity\\",\\"unit_of_measurement\\":\\"%\\",\\"object_id\\":\\"my_fridge_humidity\\",\\"unique_id\\":\\"my_fridge_humidity\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:gauge\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.relativeHumidityPercentage | float(2) }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_humidity/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Dew Point\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"my_fridge_dew_point\\",\\"unique_id\\":\\"my_fridge_dew_point\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.dewPoint }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_dew_point/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Pressure\\",\\"device_class\\":\\"pressure\\",\\"unit_of_measurement\\":\\"hPa\\",\\"object_id\\":\\"my_fridge_pressure\\",\\"unique_id\\":\\"my_fridge_pressure\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.pressure }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_pressure/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge TX Power\\",\\"unit_of_measurement\\":\\"dBm\\",\\"object_id\\":\\"my_fridge_txPower\\",\\"unique_id\\":\\"my_fridge_txPower\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"icon\\":\\"mdi:signal\\",\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.txPower }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_txPower/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Acceleration X\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"my_fridge_acceleration_x\\",\\"unique_id\\":\\"my_fridge_acceleration_x\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationX }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_acceleration_x/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Acceleration Y\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"my_fridge_acceleration_y\\",\\"unique_id\\":\\"my_fridge_acceleration_y\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationY }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_acceleration_y/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Acceleration Z\\",\\"unit_of_measurement\\":\\"mG\\",\\"object_id\\":\\"my_fridge_acceleration_z\\",\\"unique_id\\":\\"my_fridge_acceleration_z\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.accelerationZ }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_acceleration_z/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Humidex\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"my_fridge_humidex\\",\\"unique_id\\":\\"my_fridge_humidex\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.humidex }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_humidex/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Heat Index\\",\\"unit_of_measurement\\":\\"°C\\",\\"object_id\\":\\"my_fridge_heat_index\\",\\"unique_id\\":\\"my_fridge_heat_index\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.heatIndex }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_heat_index/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Mac Address\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"my_fridge_mac_address\\",\\"unique_id\\":\\"my_fridge_mac_address\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.macAddress }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_mac_address/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Measurement Sequence\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"my_fridge_measurement_sequence\\",\\"unique_id\\":\\"my_fridge_measurement_sequence\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.measurementSequence }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_measurement_sequence/config",
  },
  Object {
    "payload": "{\\"name\\":\\"My Fridge Movement Counter\\",\\"unit_of_measurement\\":\\"\\",\\"object_id\\":\\"my_fridge_movement_counter\\",\\"unique_id\\":\\"my_fridge_movement_counter\\",\\"availability_topic\\":\\"a_base_topic/ruuvitag/aa:bb/availability\\",\\"availability_template\\":\\"{{ value_json.state }}\\",\\"expire_after\\":10,\\"device\\":{\\"manufacturer\\":\\"Ruuvi Innovations Oy\\",\\"model\\":\\"RuuviTag\\",\\"name\\":\\"ruuvitag My Fridge\\",\\"connections\\":[[\\"mac\\",\\"aa:bb\\"]]},\\"value_template\\":\\"{{ value_json.movementCounter }}\\",\\"state_topic\\":\\"a_base_topic/ruuvitag/aa:bb/state\\"}",
    "retain": true,
    "topic": "homeassistant/sensor/my_fridge_movement_counter/config",
  },
  Object {
    "payload": "{\\"state\\":\\"online\\"}",
    "retain": true,
    "topic": "a_base_topic/ruuvitag/aa:bb/availability",
  },
]
`;

exports[`HomeAssistant MQTT Message producer should generate corresponding discovery messages for given device in case of RuuviTag Offline availability message is given 1`] = `
Array [
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_absolute_humidity/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_temperature/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_battery_voltage/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidity/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_dew_point/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_pressure/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_txPower/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_x/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_y/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_acceleration_z/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_humidex/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_heat_index/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_mac_address/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_measurement_sequence/config",
  },
  Object {
    "payload": "null",
    "retain": true,
    "topic": "homeassistant/sensor/fridge_movement_counter/config",
  },
  Object {
    "payload": "{\\"state\\":\\"offline\\"}",
    "retain": true,
    "topic": "a_base_topic/ruuvitag/aa:bb/availability",
  },
]
`;
